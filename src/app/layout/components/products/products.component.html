<div [class]="loadingPage?'flex':'hidden'" class="loading bg-white justify-center items-center  inset-0 fixed z-10  ">
    <i class="fa-solid fa-spinner fa-spin  text-4xl text-black"></i>
</div>

<div [class]="loadingPage?'hidden':'block'" class=" ">
    <div class="grid grid-cols-6 gap-4 ">
       @for (product of productList; track $index) {
        <div  class="item p-3 rounded-md px-2 py-1 shadow-md my-2 md:col-span-1 col-span-3 cursor-pointer">
           <div >
            <img (click)="openDetails(product._id)" [src]="product.imageCover" alt="productImage" class="w-full">
            <div class="flex justify-between">
                <span class="text-xl text-green-700 font-semibold">{{product.category.name}}</span>
                <i [ngClass]="{'text-red-700': isHeartRed(product._id)}" class="fa-solid fa-heart text-xl"
                    (click)="toggleHeart(product._id)"></i>
            </div>
            <h3 class="text-lg">{{product.title.split(' ').slice(0,2).join(' ')}}</h3>
            <span class="flex justify-between">
                <p class="text-lg">{{product.price }} EGP</p>
                <p><i class="fa-solid fa-star text-yellow-300"></i>({{product.ratingsAverage}})</p>
            </span>
           </div>

            <button (click)="addToCart(product._id)" class="bg-main add text-white py-2 px-3 rounded-md block mx-auto">Add to cart</button>
        </div>
       }
    </div>
 
    <div class="flex justify-center gap-2 py-2">
        <button (click)="changePage(1)" [ngClass]="{'bg-main': i===1 , 'text-white':i==1} " class="border-2 border-black   rounded-md 0 p-2">1</button>
        <button (click)="changePage(2)" [ngClass]="{'bg-main': i===2 , 'text-white':i==2}" class="border-2 border-black rounded-md 0 p-2">2</button>
    </div>
</div>